---
title: Next.js, Hydrateë€?
date: '2022-08-17'
summary: Google web dev, Animation íŒŒíŠ¸ë¥¼ ë³´ê³  ê°„ëµíˆ ì •ë¦¬ë¥¼ í•´ë³´ì•˜ìŠµë‹ˆë‹¤.
publish: true
---

# ğŸ«™ Pre-rendering

## Next.js

<Image src={'/posts/2022/08/nextjs-hydrate/pre-rendering.png'} alt="pre-rendering" size="medium"/>

## React

<Image src={'/posts/2022/08/nextjs-hydrate/non-pre-rendering.png'} alt="non-pre-rendering" size="medium"/>

**Next.js**ëŠ” `Pre-rendering`ì´ë¼ëŠ” íŠ¹ì§•ì„ ê°–ê³ ìˆìŠµë‹ˆë‹¤.

`Pre-rendering`ëŠ” ì‚¬ìš©ìê°€ íŠ¹ì • í˜ì´ì§€ì— ì ‘ê·¼ì‹œ, **Server**ì—ì„œ ìš°ì„ ì ìœ¼ë¡œ **HTML íŒŒì¼**ì„ ë¨¼ì € ë¡œë“œí•˜ì—¬ í™”ë©´ì„ ë³´ì—¬ì£¼ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì¦‰, ìš°ë¦¬ í˜ì´ì§€ì˜ ê»ë°ê¸°ê°€ ë  í™”ë©´ì„ ë¯¸ë¦¬ ë³´ì—¬ì£¼ëŠ” ê²ƒ ì´ì£ .

ì´ë¥¼ í†µí•´ ê¸°ì¡´ **React**ì—ì„œëŠ” êµ¬í˜„í•˜ê¸° ì–´ë ¤ì› ë˜ `SEO` & `TTV` ì¤„ì´ê¸° ë“±ì˜ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> **TTV (Time To View)**: ì‚¬ìš©ìê°€ ì›¹ í˜ì´ì§€ì˜ UIë¥¼ ë³¼ ìˆ˜ ìˆëŠ” ì‹œì 

ì—¬ê¸°ì„œ ì‚¬ìš©ìëŠ” **ì›¹ í˜ì´ì§€ì˜ UI**ë“¤ì„ ë¹ ë¥´ê²Œ ë³¼ ìˆ˜ ìˆì§€ë§Œ, **ë²„íŠ¼ í´ë¦­, ë§í¬ í´ë¦­ë“±ì˜ ì´ë²¤íŠ¸**ë¥¼ ë°œìƒì‹œí‚¤ì§€ ëª»í•©ë‹ˆë‹¤. ë‹¨ìˆœ **HTML íŒŒì¼**ì—ëŠ” **ì´ë²¤íŠ¸ ìš”ì†Œ**ë“¤ì´ ë¶™ì–´ìˆì§€ ì•Šê¸° ë•Œë¬¸ì´ì£ . ğŸ˜

**ê·¸ë ‡ë‹¤ë©´**, ì‚¬ìš©ìì˜ ì¸í„°ë ‰ì…˜ì„ ìœ„í•´ **JavaScript ì£¼ì…**ì€ `Next.js`ì—ì„œ ì–¸ì œ ë°œìƒí• ê¹Œìš”?

ì—¬ê¸°ì„œ `Hydrate`ë€ ê°œë…ì´ ë“±ì¥í•©ë‹ˆë‹¤. âœ¨

# ğŸŒŠ Hydrate

`Hydrate` ê³¼ì •ì—ì„œëŠ” ë²ˆë“¤ë§ëœ **JavaScript** íŒŒì¼ì„ ë¡œë“œí•˜ì—¬ ê¸°ì¡´ì˜ ë¡œë“œëœ **HTML DOM ìš”ì†Œ** ìœ„ì— ë§¤ì¹­ì„ ì‹œí‚µë‹ˆë‹¤.

**JavaScript**ì™€ ë§¤ì¹­ëœ ìš”ì†Œë“¤ì€ ë‹¤ì‹œ `ë Œë”ë§`ë˜ì–´ ì‚¬ìš©ìëŠ” í´ë¦­ ì´ë²¤íŠ¸ ë“±ì˜ **ì¸í„°ë ‰ì…˜**ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.

> `Hydrate` ëœ» ê·¸ëŒ€ë¡œ, **HTML** ë¼ˆëŒ€ì— **JavaScript ìˆ˜ë¶„**ì„ ë³´ì¶©í•´ì£¼ëŠ” ê³¼ì •ì˜ ì˜ë¯¸ë¡œ ì €ë ‡ê²Œ ë„¤ì´ë°í•˜ì§€ ì•Šì•˜ë‚˜ ì‹¶ìŠµë‹ˆë‹¤..ğŸ§

<Image src={'/posts/2022/08/nextjs-hydrate/list.png'} alt="network" width="600" height="180"/>

**Network íƒ­**ì—ì„œ í™•ì¸í–ˆì„ ê²½ìš°ì—ë„ HTMLì„ ìš°ì„  ê°€ì ¸ì˜¤ê³  JavaScript ë²ˆë“¤ë§ íŒŒì¼ë“¤ì„ ê°€ì ¸ì˜¤ê³  ìˆë„¤ìš”.

## ReactDOM.hydrate()

`Hydrate`ëŠ” `Next.js`ì—ë§Œ ì¡´ì¬í•˜ëŠ” ê°œë…, íŠ¹ì§•ì´ ì•„ë‹™ë‹ˆë‹¤.

ì‚¬ì‹¤, React ìì²´ì—ì„œë„ `render` í•¨ìˆ˜ ëŒ€ì‹  `hydrate` í•¨ìˆ˜ë¥¼ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤.

> **render**, **hydrate**ëŠ” **React 18** ì—ì„œ **createRoot**, **hydrateRoot**ë¡œ ëŒ€ì²´ë©ë‹ˆë‹¤.

```typescript
ReactDOM.render(element, container[, callback])
```

**render** í•¨ìˆ˜ëŠ” `container DOM ìš”ì†Œ`ì— **element**ë¥¼ ë Œë”ë§í•©ë‹ˆë‹¤. ì´ë¯¸ ë Œë”ë§ëœ **element**ì´ë©´ ì—…ë°ì´íŠ¸ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.

```typescript
ReactDOM.hydrate(element, container[, callback])
```

ê¸°ì¡´ `render`ì™€ ë¹„ìŠ·í•˜ì§€ë§Œ **element** ë Œë”ë§ ëŒ€ì‹  `ë Œë”ë§ëœ ì»¨í…Œì´ë„ˆì˜ ì´ë²¤íŠ¸ ë“±ë¡`ì„ ì§„í–‰í•©ë‹ˆë‹¤.

**CSR** í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ `hydrate` í•¨ìˆ˜ë¥¼ ë³¼ ê¸°íšŒê°€ ë§ì§€ ì•Šì§€ë§Œ, **React 18**ë¡œ ë©”ì´ì € ì—…ë°ì´íŠ¸ê°€ ë˜ê³  Reactì—ì„œë„ **SSR** ëŒ€ì‘ì„ ìœ„í•´ ìƒˆë¡œìš´ ì•„í‚¤í…ì³ë“¤ì„ ë‚´ë†“ëŠ” ëª¨ìŠµì„ ë³´ë©´ì„œ ì¶”í›„ ì½”ë“œìƒì—ì„œ ë³¼ ê¸°íšŒê°€ ë§ì§€ ì•Šì„ê¹Œ ë¼ëŠ” ìƒê°ì´ ë“­ë‹ˆë‹¤. ğŸ˜

---

> ì°¸ê³  | [React docs](https://ko.reactjs.org/docs/react-dom.html#hydrate), [Next.js docs](https://nextjs.org/docs/basic-features/pages#pre-rendering), [ì•„í‹°í´](https://blog.saeloun.com/2021/12/16/hydration.html)
